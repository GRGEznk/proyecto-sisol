<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:fragment="head">
  <title>SISOL - Sistema de Citas Médicas</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <meta name="description" content="">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script th:src="@{/js/modernizr.js}"></script>
  <script src="https://unpkg.com/healthicons/dist/healthicons.js"></script>
</head>

<body data-bs-spy="scroll" data-bs-target="#header-nav" tabindex="0">

  <!-- SVG Icons -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol xmlns="http://www.w3.org/2000/svg" id="navbar-icon" viewBox="0 0 16 16">
      <path d="M14 10.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0 0 1h11a.5.5 0 0 0 .5-.5z" />
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" id="location" viewBox="0 0 512 512">
      <circle cx="256" cy="192" r="32" fill="currentColor" />
      <path fill="currentColor" d="M256 32c-88.22 0-160 68.65-160 153c0 40.17 18.31 93.59 54.42 158.78c29 52.34 62.55 99.67 80 123.22a31.75 31.75 0 0 0 51.22 0c17.42-23.55 51-70.88 80-123.22C397.69 278.61 416 225.19 416 185c0-84.35-71.78-153-160-153Zm0 224a64 64 0 1 1 64-64a64.07 64.07 0 0 1-64 64Z" />
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" id="phone" viewBox="0 0 24 24">
      <path fill="currentColor" d="M5 9.86a18.466 18.466 0 0 0 9.566 9.292l.68.303a3.5 3.5 0 0 0 4.33-1.247l.889-1.324a1 1 0 0 0-.203-1.335l-3.012-2.43a1 1 0 0 0-1.431.183l-.932 1.257a12.14 12.14 0 0 1-5.51-5.511l1.256-.932a1 1 0 0 0 .183-1.431l-2.43-3.012a1 1 0 0 0-1.335-.203l-1.333.894a3.5 3.5 0 0 0-1.237 4.355L5 9.86Z" />
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" id="email" viewBox="0 0 24 24">
      <path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5l-8-5V6l8 5l8-5v2z" />
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" id="search" viewBox="0 0 24 24">
      <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10a7 7 0 1 0 14 0a7 7 0 1 0-14 0m18 11l-6-6" />
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" id="heart" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 12Zm0 9q-.45 0-.863-.163t-.737-.487l-6.7-6.725q-.875-.875-1.288-2T2 9.275Q2 6.7 3.675 4.85T7.85 3q1.2 0 2.263.475T12 4.8q.8-.85 1.863-1.325T16.125 3q2.5 0 4.188 1.85T22 9.25q0 1.225-.425 2.35t-1.275 2l-6.725 6.75q-.325.325-.725.488T12 21Zm1-13q.25 0 .475.125t.35.325l1.7 2.55h4.15q.175-.425.262-.863t.088-.887q-.05-1.725-1.15-2.963t-2.75-1.237q-.775 0-1.488.3t-1.237.875l-.675.725q-.125.15-.325.238t-.4.087q-.2 0-.4-.087t-.35-.238l-.675-.725q-.525-.575-1.225-.9T7.85 5Q6.2 5 5.1 6.263T4 9.25q0 .45.075.888t.25.862H9q.25 0 .475.125t.35.325l.875 1.3l1.35-4.05q.1-.3.362-.5T13 8Zm.3 3.25l-1.35 4.05q-.1.3-.375.5t-.6.2q-.25 0-.475-.125t-.35-.325L8.45 13H5.9l5.925 5.925q.05.05.088.063T12 19q.05 0 .088-.013t.087-.062l5.9-5.925H15q-.25 0-.475-.125t-.375-.325l-.85-1.3Z" />
    </symbol>
  </svg>

  <!-- Header -->
  <header id="header" th:fragment="header">
    <nav class="header-top pt-4 pb-5">
      <div class="container">
        <div class="row justify-content-between align-items-center">
          <div class="col-lg-5 col-md-4 col-sm-6">
            <a class="navbar-brand" th:href="@{/}">
              <img th:src="@{/img/logo.svg}" class="logo" alt="SISOL Logo">
            </a>
          </div>
          <div class="col-lg-4 col-md-4 d-md-block d-sm-none">
            <ul class="contact-list d-flex justify-content-lg-end flex-wrap list-unstyled m-0">
              <li class="pe-5 pe-lg-0 pe-xxl-5 pb-3 pb-lg-0">
                <i class="healthicons healthicons-ui-marker-outline" style="font-size: 24px; color: #0dcaf0;"></i> Av. Principal 123, Lima, Perú
              </li>
              <li class="ps-xl-3">
                <i class="healthicons healthicons-ui-phone-outline" style="font-size: 24px; color: #0dcaf0;"></i> (+51) 1 234 5678
              </li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="btn-book text-end">
              <a th:href="@{/citas/nueva}" class="btn btn-medium btn-outline-primary btn-pill text-uppercase">Agendar Cita</a>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Navbar Offcanvas para mobile -->
  <nav class="navbar bg-light fixed-top d-lg-none d-block" style="max-width: 796px; width: 100vw;">
    <div class="container-fluid">
      <a class="navbar-brand" th:href="@{/}">
        <img th:src="@{/img/logo.svg}" class="logo" alt="SISOL Logo" style="height: 40px;">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menú</h5>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
          <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" th:href="@{/}">Inicio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" th:href="@{/nosotros}">Nosotros</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" th:href="@{/servicios}" th:if="${usuario != null}">Servicios</a>
              <a class="nav-link disabled" th:if="${usuario == null}" href="#" onclick="mostrarAccesoDenegado('Debes iniciar sesión para acceder a Servicios.')">Servicios</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" th:href="@{/agenda-citas}" th:if="${usuario != null}">Mi agenda de Citas</a>
              <a class="nav-link disabled" th:if="${usuario == null}" href="#" onclick="mostrarAccesoDenegado('Debes iniciar sesión para acceder a tu agenda de citas.')">Mi agenda de Citas</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" th:href="@{/pagos}" th:if="${usuario != null}">Pagos</a>
              <a class="nav-link disabled" th:if="${usuario == null}" href="#" onclick="mostrarAccesoDenegado('Debes iniciar sesión para acceder a Pagos.')">Pagos</a>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li class="nav-item" th:if="${usuario == null}">
              <a class="nav-link fw-bold" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Iniciar Sesión</a>
            </li>
            <li class="nav-item dropdown" th:if="${usuario != null}">
              <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="userDropdownMobile" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <img th:src="@{'https://ui-avatars.com/api/?name=' + ${#strings.replace(usuario.nombres, ' ', '+')}}" alt="avatar" class="rounded-circle me-2" width="32" height="32">
                <span th:text="${usuario.nombres}"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="userDropdownMobile">
                <li class="px-3 py-2">
                  <div class="fw-bold" th:text="${usuario.nombres}"></div>
                  <div class="text-muted small" th:text="${usuario.correo}"></div>
                </li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" th:href="@{/mi-cuenta}">Mi cuenta</a></li>
                <li><a class="dropdown-item" th:href="@{/auth/logout}">Cerrar sesión</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- Navbar Independiente (solo desktop) -->
  <nav id="primary-header" class="navbar navbar-expand-lg shadow-none d-none d-lg-flex" aria-label="navbar" th:fragment="navbar">
    <div class="container">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-primary"
        aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation">
        <svg class="navbar-icon mt-3 primary-color-500 bg-light" width="50" height="50">
          <use xlink:href="#navbar-icon"></use>
        </svg>
      </button>
      <div class="header-bottom collapse navbar-collapse bg-light border-radius-10 py-2" id="navbar-primary">
        <!-- Logo para navbar flotante (oculto por defecto) -->
        <div class="navbar-brand navbar-brand-floating d-none">
          <img th:src="@{/img/logo.svg}" class="logo-small" alt="SISOL Logo">
        </div>
        <div class="d-flex w-100 align-items-center">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item ps-4 pe-4 border-right">
              <a class="nav-link text-dark active p-0 mt-3 mt-lg-0" aria-current="page" th:href="@{/}">Inicio</a>
            </li>
            <li class="nav-item ps-4 pe-4 border-right">
              <a class="nav-link text-dark p-0" th:href="@{/nosotros}">Nosotros</a>
            </li>
            <li class="nav-item ps-4 pe-4 border-right">
              <a class="nav-link text-dark p-0" th:href="@{/servicios}" th:if="${usuario != null}">Servicios</a>
              <a class="nav-link text-dark p-0 disabled" th:if="${usuario == null}" href="#" onclick="mostrarAccesoDenegado('Debes iniciar sesión para acceder a Servicios.')">Servicios</a>
            </li>
            <li class="nav-item ps-4 pe-4 border-right">
              <a class="nav-link text-dark p-0" th:href="@{/agenda-citas}" th:if="${usuario != null}">Mi agenda de Citas</a>
              <a class="nav-link text-dark p-0 disabled" th:if="${usuario == null}" href="#" onclick="mostrarAccesoDenegado('Debes iniciar sesión para acceder a tu agenda de citas.')">Mi agenda de Citas</a>
            </li>
            <li class="nav-item ps-4 pe-4 border-right">
              <a class="nav-link text-dark p-0" th:href="@{/pagos}" th:if="${usuario != null}">Pagos</a>
              <a class="nav-link text-dark p-0 disabled" th:if="${usuario == null}" href="#" onclick="mostrarAccesoDenegado('Debes iniciar sesión para acceder a Pagos.')">Pagos</a>
            </li>
            <li class="nav-item ps-4 pe-3" th:if="${usuario == null}">
              <a class="nav-link text-dark p-0 fw-bold" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Iniciar Sesión</a>
            </li>
            <li class="nav-item dropdown ps-4 pe-3" th:if="${usuario != null}">
              <a class="nav-link dropdown-toggle d-flex align-items-center p-0" href="#" id="userDropdownDesktop" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <img th:src="@{'https://ui-avatars.com/api/?name=' + ${#strings.replace(usuario.nombres, ' ', '+')}}" alt="avatar" class="rounded-circle me-2" width="32" height="32">
                <span th:text="${usuario.nombres}"></span>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdownDesktop">
                <li class="px-3 py-2">
                  <div class="fw-bold" th:text="${usuario.nombres}"></div>
                  <div class="text-muted small" th:text="${usuario.correo}"></div>
                </li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" th:href="@{/mi-cuenta}">Mi cuenta</a></li>
                <li><a class="dropdown-item" th:href="@{/auth/logout}">Cerrar sesión</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 